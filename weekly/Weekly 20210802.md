## 🗞 News

### Yarn 3.0 发布

Breaking Change：

1. 不再支持 Node 10
2. PnP 钩子由 `.pnp.js` 更改为 `.pnp.cjs`
3. 虚拟文件夹由 `$$virtual` 更改为 `__virtual__`
4. 编辑器 SDK 被移动至 `@yarnpkg/sdks` 下
5. 等等……

Feature：

1. 支持 `exports` 字段
2. 性能优化（部分场景下甚至快于 pnpm）
3. 采用新的 `node_modules` 链接器
4. 改进 Shell（采用 Yarn 提供的 Shell 解释器替换系统的 Shell）
5. 支持 ESBuild
6. 引入新的插件 API
7. 等等……

完整的 Changelog：[CHANGELOG.md](https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md)

原文链接：[Yarn 3.0 🚀🤖 Performances, ESBuild, Better Patches, ...](https://dev.to/arcanis/yarn-3-0-performances-esbuild-better-patches-e07)

### Visual Studio Code 支持查看 Element/Network 等信息

在此之前想要在 Visual Studio Code 中调试 Web 页面，需要借助 Chrome Debugger 或者 Microsoft Edge Debugger extension 这两款插件，且仅支持控制台。

更新后的 Visual Studio Code 内置了调试能力，并将其进行了拓展，支持了几乎所有 Chrome DevTools 支持的调试能力。

原文链接 & 教程：[Easier browser debugging with Developer Tools integration in Visual Studio Code](https://blogs.windows.com/msedgedev/2021/07/16/easier-debugging-developer-tools-in-visual-studio-code/)

## 📦 Open Source

### Windows 11 in React

使用 React 还原 Windows 11。

![](https://img.alicdn.com/imgextra/i2/O1CN01NBSh9Z1t9TFD7VIlu_!!6000000005859-2-tps-1107-623.png)

![](https://img.alicdn.com/imgextra/i3/O1CN01zI8brW1y8cahgjSUU_!!6000000006534-2-tps-1900-673.png)

Preview：[Windows 11 in React](https://win11.blueedge.me/)

GitHub Repo：[blueedgetechno/windows11](https://github.com/blueedgetechno/windows11)

### Clipanion

一个类型安全的 CLI 库，没有运行时依赖，采用面向对象的方式开发 Command Line Interface（CLI）。

![](https://img.alicdn.com/imgextra/i2/O1CN014mIDnf1n8CS3LiUXO_!!6000000005044-2-tps-1465-780.png)

Demo：

```ts
// src/app.ts
import {Cli} from 'clipanion';

import {HelloCommand} from './HelloCommand';

const [node, app, ...args] = process.argv;

const cli = new Cli({
    binaryLabel: `Command Line Interface`,
    binaryName: `${node} ${app}`,
    binaryVersion: `1.0.0`,
    enableColors: true,
})

cli.register(HelloCommand);
cli.runExit(args, Cli.defaultContext);

```

```ts
// src/HelloCommand.ts
import {Command, Option} from 'clipanion';

export class HelloCommand extends Command {
  name = Option.String({required: true});

  async execute() {
    this.context.stdout.write(`Hello, ${this.name}!\n`);
  }
}

```

当我们使用 ts-node 运行 `app.ts` 或将其编译为 JavaScript 后使用 node 运行，即可在控制台查看输出：

```bash
$ ts-node src/app TaobaoFED
Hello, TaobaoFED!
```

GitHub Repo：[arcanis/clipanion](https://github.com/arcanis/clipanion)

### Node.js CLI Apps Best Practices

使用 Node.js 构建体验良好的 Node.js Command Line Interface（CLI）的**最佳实践**。

![](https://img.alicdn.com/imgextra/i2/O1CN01H6t89N1xpqLodv2Ue_!!6000000006493-2-tps-1334-667.png)

GitHub Repo：[lirantal/nodejs-cli-apps-best-practices](https://github.com/lirantal/nodejs-cli-apps-best-practices)

### Sandpack

CodeSandbox 开源的浏览器端打包方案。

![](https://img.alicdn.com/imgextra/i1/O1CN01lpjHEx1jaojcmqRIM_!!6000000004565-1-tps-600-250.gif)

GitHub Repo：[codesandbox/sandpack](https://github.com/codesandbox/sandpack)

### Infima

从 Docusaurus 2 中诞生的样式框架，为内容驱动的网页提供现代化的样式方案。

![](https://img.alicdn.com/imgextra/i2/O1CN010oU7Ki21GM7nTFQbs_!!6000000006957-2-tps-1465-680.png)

Official Website：[Infima](https://infima.dev/)

GitHub Repo：[facebookincubator/infima](https://github.com/facebookincubator/infima)

### Benny

一个非常简单的 Benchmark 框架。

![](https://img.alicdn.com/imgextra/i2/O1CN01P9e9Nv27bmLRVoYWt_!!6000000007816-1-tps-800-450.gif)

Demo：

```js
// benchmark.js
const b = require('benny')

b.suite(
  'Example',

  b.add('Reduce two elements', () => {
    ;[1, 2].reduce((a, b) => a + b)
  }),

  b.add('Reduce five elements', () => {
    ;[1, 2, 3, 4, 5].reduce((a, b) => a + b)
  }),

  b.cycle(),
  b.complete(),
  b.save({ file: 'reduce', version: '1.0.0' }),
  b.save({ file: 'reduce', format: 'chart.html' }),
)

```

```bash
$ node benchmark.js
Running "Example" suite...
Progress: 100%

  Reduce two elements:
    153 067 277 ops/s, ±0.11%   | fastest

  Reduce five elements:
    119 100 958 ops/s, ±1.86%   | slowest, 22.19% slower

Finished 2 cases!
  Fastest: Reduce two elements
  Slowest: Reduce five elements

Saved to: benchmark/results/reduce.json
Saved to: benchmark/results/reduce.chart.html

```

GitHub Repo：[caderek/benny](https://github.com/caderek/benny)

## 📑 Article

### Next.js 是怎么做预渲染的

文章详细介绍了 Next.js 提供的预渲染方案，深入浅出地分析了各种预渲染方案的优劣，并针对不同类型的场景提出了方案选择上的建议，非常值得学习！

原文链接：[Next.js 是怎么做预渲染的](https://juejin.cn/post/6991397899317805064/)

### 从 Prompt 来看微前端路由劫持原理

文章从业务方反馈的问题入手，深入浅出地讲解了微前端路由的劫持原理。

原文链接：[从 Prompt 来看微前端路由劫持原理](https://zhuanlan.zhihu.com/p/394624654)

### React Native 迎来重大架构升级，性能将大幅提升

文章简单介绍了 React Native 的重大架构升级内容，同时通过访谈的方式深入技术细节，对此次架构升级的详细内容进行讨论。

原文链接：[React Native迎来重大架构升级，性能将大幅提升](https://mp.weixin.qq.com/s/bIkShX_pDWgO_a2BSGznUA)

